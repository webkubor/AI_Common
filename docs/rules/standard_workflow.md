# AI 协作标准工作流 (Standard Workflow)

本规范定义了 AI 在参与软件开发任务时必须遵循的“计划-执行-复盘”闭环流程，确保任务的可追溯性和交付质量。

## 1. 核心流程 (The Loop)

1. **扫描与对齐**：任务启动前，必须优先扫描项目根目录下的 `.plan/` 和 `.review/`。
2. **计划先行 (Plan)**：在开始任何代码改动前，必须按日期在 `.plan/` 目录下创建或更新计划文件。
3. **执行与验证 (Implement & Verify)**：按照计划实施改动，并执行项目特定的验证命令（如 `type-check`, `build`, `lint`）。
4. **复盘记录 (Review)**：任务完成后，必须按日期在 `.review/` 目录下创建执行记录文件。
5. **原子提交 (Commit)**：Git 提交必须包含代码改动以及对应的 `.plan` 和 `.review` 更新。

## 2. 文档模板 (Templates)

### 2.1 计划模板 (.plan/YYYY-MM-DD.md)
必须包含日期、类型、发起人。

### 2.2 复盘模板 (.review/YYYY-MM-DD.md)
必须包含日期、执行人、审核人。

## 3. 交互原则

- **日期隔离**：严禁将不同日期的任务混在同一个计划/记录文件中，必须按日期新建或拆分。
- **信息完整**：计划中的“发起人”和复盘中的“审核人”是强制项，用于明确责任链路。
- **闭环提交**：所有的文档（.plan, .review）必须随代码一同提交，保证 Git 历史中包含完整的上下文。